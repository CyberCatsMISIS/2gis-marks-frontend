# 2GIS Custom Tags Extension - Frontend

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è 2–ì–ò–° —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç–æ–∫ –∏ —Ç–µ–≥–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–∫**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç–æ–∫
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: NLP –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–≥–∏ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –º–µ—Ç–∫–∏
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –°—Ç—Ä–æ–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å —É—á–µ—Ç–æ–º –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö/–∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ –æ—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Ç–µ–≥–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –º–µ—Ç–æ–∫ –∏ —Ç–µ–≥–æ–≤

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **React 18** —Å TypeScript
- **Vite** –¥–ª—è —Å–±–æ—Ä–∫–∏
- **Zustand** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **React Query** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- **2GIS Map SDK** –¥–ª—è –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **Lucide React** –¥–ª—è –∏–∫–æ–Ω–æ–∫

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone <repository-url>
   cd 2gis-marks-frontend
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   npm install
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```bash
   cp env.example .env
   ```
   
   –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
   ```env
   VITE_2GIS_API_KEY=your-2gis-api-key-here
   VITE_API_URL=http://localhost:8000/api
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**
   ```bash
   npm run dev
   ```

   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3000`

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ api/                 # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ client.ts       # –ë–∞–∑–æ–≤—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ marks.ts        # API –¥–ª—è –º–µ—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ tags.ts         # API –¥–ª—è —Ç–µ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ routes.ts       # API –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îú‚îÄ‚îÄ components/         # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Layout/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Map/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Marks/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ—Ç–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ Tags/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–≥–æ–≤
‚îú‚îÄ‚îÄ store/             # Zustand stores
‚îÇ   ‚îú‚îÄ‚îÄ useMapStore.ts    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ useTagsStore.ts   # –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ useRouteStore.ts  # –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îú‚îÄ‚îÄ types/             # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ö–∞—Ä—Ç–∞ –∏ –º–µ—Ç–∫–∏
- **MapProvider**: –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 2GIS Map SDK
- **MapContainer**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã
- **MarkMarker**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ
- **NewMarkForm**: –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏

### –¢–µ–≥–∏
- **TagSelector**: –í—ã–±–æ—Ä —Ç–µ–≥–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º
- **TagFilter**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ —Ç–µ–≥–∞–º
- **TagsManager**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏
- **TagItem**: –û—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ–≥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ú–∞—Ä—à—Ä—É—Ç—ã
- **RouteBuilder**: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ:
   ```tsx
   // src/components/NewFeature/NewComponent.tsx
   import React from 'react'
   
   interface NewComponentProps {
     // —Ç–∏–ø—ã –ø—Ä–æ–ø—Å–æ–≤
   }
   
   export const NewComponent: React.FC<NewComponentProps> = ({ ...props }) => {
     return (
       <div>
         {/* JSX */}
       </div>
     )
   }
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø—ã** –≤ `src/types/index.ts` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

3. **–°–æ–∑–¥–∞–π—Ç–µ store** –≤ `src/store/` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

4. **–î–æ–±–∞–≤—å—Ç–µ API** –≤ `src/api/` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 2GIS Map SDK

```tsx
import { MapGL } from '@2gis/mapgl'

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
const map = new MapGL('map-container', {
  center: [82.9204, 55.0084], // –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫
  zoom: 13,
  key: 'your-api-key'
})

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–∞
const marker = new DG.Marker([lat, lng], {
  icon: customIcon
})
marker.addTo(map)
```

### –†–∞–±–æ—Ç–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Zustand)

```tsx
import { useMapStore } from '@/store/useMapStore'

const MyComponent = () => {
  const { marks, addMark, setSelectedMark } = useMapStore()
  
  const handleAddMark = (mark) => {
    addMark(mark)
  }
  
  return (
    // JSX
  )
}
```

### API –∑–∞–ø—Ä–æ—Å—ã (React Query)

```tsx
import { useQuery, useMutation } from '@tanstack/react-query'
import { marksApi } from '@/api/marks'

const MyComponent = () => {
  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  const { data, isLoading, error } = useQuery({
    queryKey: ['marks'],
    queryFn: () => marksApi.getMarks()
  })
  
  // –ú—É—Ç–∞—Ü–∏—è
  const createMutation = useMutation({
    mutationFn: marksApi.createMark,
    onSuccess: () => {
      // –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à
    }
  })
  
  return (
    // JSX
  )
}
```

## üöÄ –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run build
```

–°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤ –ø–∞–ø–∫–µ `dist/`

## üìù –°–∫—Ä–∏–ø—Ç—ã

- `npm run dev` - –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `npm run build` - –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `npm run preview` - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏
- `npm run lint` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º

API –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- `GET /api/marks` - –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–æ–∫
- `POST /api/marks` - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∫–∏
- `PUT /api/marks/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏
- `DELETE /api/marks/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏
- `GET /api/tags` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–≥–æ–≤
- `POST /api/routes/build` - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
